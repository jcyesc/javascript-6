<html>
  <head>
    <title>Learning about inheritance and Prototypes</title>
  </head>
  <body>
    <h1>Inheritance and Prototypes</h1>
    <pre>
      Objectives: Create a class hierarchy using prototypes.

      https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Details_of_the_Object_Model
    </pre>

    <script type="text/javascript">
      function Animal() {
    	  this.type = "Animal";
      }
      // At this point, the Animal.prototype looks like this:
      /*
        Animal.prototype = {
    		  constructor: Animal(),
    		  __proto__: Object 
    		}
      */

      Animal.prototype.eat = function () {
    	  console.info(this.name + " eating");
      }
      // At this point, the Animal.prototype looks like this:
      /*
        Animal.prototype = {
    		  constructor: Animal(),
    		  __proto__: Object,
    		  eat: function()
    		}
      */

      function Cat() {
    	  this.name = "Cat";
      }
      // At this point, the Cat.prototype looks like this:
      /*
        Cat.prototype = {
    		  constructor: Cat(),
    		   __proto__: Object
    		}
      */
      
      Cat.prototype = new Animal(); // It creates a new __proto__ object that points to the Animal.prototype
      console.info("Cat.prototype.__proto__ == Animal.prototype" + Cat.prototype.__proto__ == Animal.prototype)
      // At this point, the Cat.prototype looks like this:
      /*
        Cat.prototype = {
    		  __proto__: {
    			   constructor: Animal(),
    			   __proto__: Object,
    			   eat: function()
    			},
    			type: "Animal"
    		}
      */

      Cat.prototype.constructor = Cat;
      /*
        Cat.prototype = {
    		  __proto__: {
    			   constructor: Animal(),
    			   __proto__: Object,
    			   eat: function()
    			},
    			type: "Animal",
    			constructor: Cat()
    	  }
      */

      Cat.prototype.meow = function() {
        console.info(this.name + "is meowing");
      }
      // At this point, the Cat.prototype looks like this:
      /*
        Cat.prototype = {
    		  __proto__: {
    			   constructor: Animal(),
    			   __proto__: Object,
    			   eat: function()
    		  },
    		  type: "Animal",
    		  constructor: Cat(),
    		  meow: function
    		}
      */

      const gatito = new Cat();
      // At this point, the gatito looks like this:
      /*
        gatito = {
    		  name: "Cat",
    		  __proto__: {
    			   __proto__: {
    				    constructor: Animal(),
    				    __proto__: Object,
    				    eat: function()
    	     	 },
    				 type: "Animal",
    	    	 constructor: Cat(),
    		  	 meow: function
    		  }
        }

      */
      gatito.eat();
      gatito.meow();
      
    </script>
  
  </body>
</html>
